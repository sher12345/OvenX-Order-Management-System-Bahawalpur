:root { 
    --red: #8b0000; 
    --dark-red: #5e0000;
    --orange: #f37021; 
    --dark-orange: #b34e12;
    --white: #ffffff;
    --bg-body: #fff9f5; 
    --radius-bubble: 25px;
    --wa-green: #25D366;
    --wa-dark: #1a9648;
    --gold: #d4af37;
    --gold-gradient: linear-gradient(135deg, #bf953f, #fcf6ba, #b38728, #fbf5b7, #aa771c);
}
* { -webkit-tap-highlight-color: transparent; outline: none; touch-action: manipulation; box-sizing: border-box; }
body.modal-active { overflow: hidden; height: 100vh; }
body { 
    background: var(--bg-body) !important; 
    color: #333 !important; 
    font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    margin: 0; padding-bottom: 0; overflow-x: hidden;
}
#top-sticky-container {
    position: sticky; top: 0; z-index: 2000;
    display: none; flex-direction: column;
    background: var(--bg-body);
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
}
@keyframes bounce {
    0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
    40% {transform: translateY(-15px);}
    60% {transform: translateY(-7px);}
}
@keyframes aggressive-shake {
    0% { transform: translate(1px, 1px) rotate(0deg); }
    10% { transform: translate(-1px, -2px) rotate(-1deg); }
    20% { transform: translate(-3px, 0px) rotate(1deg); }
    30% { transform: translate(3px, 2px) rotate(0deg); }
    40% { transform: translate(1px, -1px) rotate(1deg); }
    50% { transform: translate(-1px, 2px) rotate(-1deg); }
    60% { transform: translate(-3px, 1px) rotate(0deg); }
    70% { transform: translate(3px, 1px) rotate(-1deg); }
    80% { transform: translate(-1px, -1px) rotate(1deg); }
    90% { transform: translate(1px, 2px) rotate(0deg); }
    100% { transform: translate(1px, -2px) rotate(-1deg); }
}
.bouncing-logo { animation: bounce 2s infinite; display: inline-block; }
.btn-3d { transition: transform 0.1s, box-shadow 0.1s; cursor: pointer; border: none; position: relative; user-select: none; }
.btn-3d:active { transform: translateY(4px) !important; box-shadow: 0 2px 0px rgba(0,0,0,0.2) !important; }

#gateway-screen {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: radial-gradient(circle, #2c0000, #000000);
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    z-index: 4000; text-align: center; color: white; overflow-y: auto; padding: 20px 0;
}

.loyalty-card { 
    background: rgba(10, 10, 10, 0.95); 
    border-radius: 35px; padding: 25px 15px; margin: 0 0 25px; 
    border: 2px solid var(--gold); width: 90%; max-width: 380px;
    box-shadow: 0 25px 50px rgba(0,0,0,0.9), inset 0 0 20px rgba(212,175,55,0.1);
    position: relative;
}
.loyalty-header { display: flex; justify-content: space-between; align-items: center; padding: 0 10px 15px; }
.gold-label { 
    background: var(--gold-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    font-weight: 900; text-transform: uppercase; letter-spacing: 2px; font-size: 15px;
}
.stamp-grid-container { display: flex; flex-direction: column; gap: 15px; align-items: center; width: 100%; }
.stamp-row { display: flex; justify-content: center; gap: 8px; width: 100%; }
.stamp-circle { 
    width: 42px; height: 42px; border-radius: 50%; 
    border: 2px dashed rgba(212, 175, 55, 0.4); 
    display: flex; align-items: center; justify-content: center;
    font-size: 14px; font-weight: 900; color: rgba(212, 175, 55, 0.3);
    background: rgba(255,255,255,0.02); transition: 0.4s;
}
.stamp-circle.filled { 
    background: var(--gold-gradient); border: 2px solid #fff; color: #000;
    box-shadow: 0 0 20px rgba(212, 175, 55, 0.8); transform: scale(1.1); border-style: solid;
}
.loyalty-footer { color: #ccc; font-size: 11px; margin-top: 20px; font-weight: 700; line-height: 1.4; padding: 0 10px; }
.btn-gold { background: var(--gold-gradient); color: #000; font-weight: 900; box-shadow: 0 6px 0px #866619; margin-bottom: 25px; width: 85%; max-width: 340px; }

.gateway-logo { font-size: 60px; font-weight: 900; margin-bottom: 5px; letter-spacing: -2px; }
.gateway-logo span { color: var(--orange); }
#gateway-table-note { background: var(--orange); color: white; padding: 12px 25px; border-radius: 50px; font-size: 16px; font-weight: bold; margin-bottom: 20px; display: none; box-shadow: 0 8px 20px rgba(243, 112, 33, 0.4); }

header { background: var(--red); color: white; padding: 12px 15px; text-align: center; border-bottom: 6px solid var(--orange); display: flex; justify-content: space-between; align-items: center; }
.logo { font-size: 24px; font-weight: 900; margin: 0; text-transform: uppercase; flex-grow: 1;}
.logo span { color: var(--orange); }
.tab-bar { background: #fff; padding: 10px; display: flex; justify-content: center; gap: 10px; border-bottom: 2px solid #eee; }
.tab-item { background: #f0f0f0; padding: 12px; border-radius: 20px; font-weight: 800; font-size: 13px; flex: 1; text-align: center; color: #777; transition: 0.2s; }
.tab-item.active { background: var(--red); color: white; box-shadow: 0 5px 15px rgba(139, 0, 0, 0.3); }

.menu-controls { background: white; padding: 10px 0; border-bottom: 2px solid #eee; }
.search-input { width: 100%; border: 3px solid #f0f0f0; border-radius: 50px; padding: 12px 20px; font-size: 14px; font-weight: 700; box-sizing: border-box; }
.cat-pill { background: #f0f0f0; color: #777; padding: 8px 18px; border-radius: 50px; font-size: 12px; font-weight: 900; cursor: pointer; transition: 0.2s; flex-shrink: 0; border: 2px solid transparent; }
.cat-pill.active { background: var(--orange); color: white; box-shadow: 0 4px 10px rgba(243, 112, 33, 0.3); }

.grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
.btn { background-color: #eee; background-size: cover; background-position: center; border: 3px solid #fff; border-radius: 25px; overflow: hidden; display: flex; flex-direction: column; justify-content: flex-end; min-height: 160px; box-shadow: 0 6px 0px #ddd; position: relative; }
.item-label-box { background: rgba(255, 255, 255, 0.98); padding: 12px; width: 100%; box-sizing: border-box; text-align: center; border-top: 1px solid rgba(0,0,0,0.05); }

#cart-bar { position: fixed; bottom: 25px; left: 50%; transform: translateX(-50%); width: 92%; max-width: 450px; background: var(--red); color: white; padding: 12px 20px; border-radius: 50px; display: none; justify-content: space-between; align-items: center; z-index: 1000; box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4); border: 2px solid rgba(255,255,255,0.1); }
.checkout-btn { background: var(--orange); padding: 12px 25px; border-radius: 30px; color: white; font-weight: 900; font-size: 15px; box-shadow: 0 5px 0px var(--dark-orange); }

/* --- AI CHAT BUBBLE CSS --- */
#ai-chat-bubble { position: fixed; bottom: 85px; right: 15px; width: 60px; height: 60px; background: var(--orange); border-radius: 50%; display: none; align-items: center; justify-content: center; font-size: 32px; box-shadow: 0 10px 25px rgba(0,0,0,0.3); z-index: 8000; border: 3px solid white; cursor: pointer; animation: bounce 3s infinite; }
#ai-chat-window { position: fixed; bottom: 160px; right: 15px; width: 330px; height: 480px; background: white; border-radius: 30px; display: none; flex-direction: column; box-shadow: 0 15px 50px rgba(0,0,0,0.4); z-index: 8001; overflow: hidden; border: 1px solid #ddd; }
.ai-msg { padding: 12px 16px; border-radius: 20px; max-width: 85%; font-size: 14px; line-height: 1.5; font-weight: 600; }
.ai-msg-bot { background: #f0f0f0; align-self: flex-start; border-bottom-left-radius: 2px; color: #333; }
.ai-msg-user { background: var(--orange); color: white; align-self: flex-end; border-bottom-right-radius: 2px; }

.kitchen-modal { background: var(--white); border-radius: 35px; width: 98%; max-width: 1200px; height: 95vh; display: flex; flex-direction: column; overflow: hidden; }
.kitchen-card { background: white; padding: 25px; border-radius: 30px; margin-bottom: 20px; border-left: 12px solid var(--orange); text-align: left; position: relative; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
.kitchen-card.status-preparing { border-left-color: #007bff; }
.kitchen-card.status-ready { border-left-color: var(--wa-green); opacity: 0.6; }
.kitchen-card.late { background: #fff1f1; border-left-color: #ff0000 !important; box-shadow: 0 0 35px #ff0000; animation: aggressive-shake 0.2s infinite; border: 2px solid red; }

@media (max-width: 800px) {
    .kitchen-content-wrapper { flex-direction: column; }
    #rider-audit-sidebar { border-left: none; border-bottom: 4px solid #eee; flex: none; height: auto; }
}
